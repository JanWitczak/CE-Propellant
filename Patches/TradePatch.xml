<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/TraderKindDef[defName="Base_Outlander_Standard"]/stockGenerators</xpath>
		<value>
			<li Class="StockGenerator_SingleDef">
				<thingDef>AIE-Propellant</thingDef>
				<countRange>
					<min>200</min>
					<max>800</max>
				</countRange>
			</li>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/TraderKindDef[defName="Caravan_Outlander_CombatSupplier"]/stockGenerators</xpath>
		<value>
			<li Class="StockGenerator_SingleDef">
				<thingDef>AIE-Propellant</thingDef>
				<countRange>
					<min>50</min>
					<max>200</max>
				</countRange>
			</li>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/TraderKindDef[defName="Orbital_CombatSupplier"]/stockGenerators</xpath>
		<value>
			<li Class="StockGenerator_SingleDef">
				<thingDef>AIE-Propellant</thingDef>
				<countRange>
					<min>200</min>
					<max>800</max>
				</countRange>
			</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_Ammo"]/price[text()="Cheap"]</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_MediumAmmo"]/price[text()="Cheap"]</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_HeavyAmmo"]/price[text()="Cheap"]</xpath>
	</Operation>
	
	<Operation Class="XmlExtensions.UseSetting">
		<modId>propellant</modId>
		<key>TraderAmmoCountFactor</key>
		<defaultValue>1</defaultValue>  
		<apply>
			<Operation Class="XmlExtensions.PatchOperationMath">
				<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_Ammo"]/countRange/min</xpath>
				<value>{TraderAmmoCountFactor}</value>
				<operation>*</operation>
			</Operation>
			<Operation Class="XmlExtensions.PatchOperationMath">
				<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_Ammo"]/countRange/max</xpath>
				<value>{TraderAmmoCountFactor}</value>
				<operation>*</operation>
			</Operation>
		</apply>
	</Operation>
	
	<Operation Class="XmlExtensions.UseSetting">
		<modId>propellant</modId>
		<key>TraderMediumAmmoCountFactor</key>
		<defaultValue>1</defaultValue>  
		<apply>
			<Operation Class="XmlExtensions.PatchOperationMath">
				<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_MediumAmmo"]/countRange/min</xpath>
				<value>{TraderMediumAmmoCountFactor}</value>
				<operation>*</operation>
			</Operation>
			<Operation Class="XmlExtensions.PatchOperationMath">
				<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_MediumAmmo"]/countRange/max</xpath>
				<value>{TraderMediumAmmoCountFactor}</value>
				<operation>*</operation>
			</Operation>
		</apply>
	</Operation>
	
	<Operation Class="XmlExtensions.UseSetting">
		<modId>propellant</modId>
		<key>TraderHeavyAmmoCountFactor</key>
		<defaultValue>1</defaultValue>  
		<apply>
			<Operation Class="XmlExtensions.PatchOperationMath">
				<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_HeavyAmmo"]/countRange/min</xpath>
				<value>{TraderHeavyAmmoCountFactor}</value>
				<operation>*</operation>
			</Operation>
			<Operation Class="XmlExtensions.PatchOperationMath">
				<xpath>Defs/TraderKindDef/stockGenerators/li[tradeTag="CE_HeavyAmmo"]/countRange/max</xpath>
				<value>{TraderHeavyAmmoCountFactor}</value>
				<operation>*</operation>
			</Operation>
		</apply>
	</Operation>
</Patch>